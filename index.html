<!--future:介接圖文網站，設定好文字排好版以後幫我生出圖來，然後我掃完圖以後就可以讓球跑到字上面了
    and turns to WebGL
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <script type="text/javascript" src="bioXD/purl.js"></script>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway:200,300,400">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Catamaran:200,300,400">
</head>

<body style="margin=0; overflow-y: hidden; overflow-x: hidden">
    <div id="container" style="position: absolute; z-index: 1; left:25%; right:25%; top:0%; width:50%; height:100%; font-family:Catamaran, sans-serif; font-size:24px; font-weight:200">
    </div>
    <div style="position: absolute; z-index: 3; left:25%; top:45%; width:50%; height:20%; text-align:center">
        <br>
        <span id="Statut" style="color:orangered; font-family:Raleway, sans-serif; font-size:100px; font-weight:200; opacity:0"> </span>
        <br>
    </div>
    <canvas id="canvas" style="position: absolute; width: 100%; height: 100%; left:0px; top:0px; z-index: 2 ;background-color:black"></canvas>
    <script>
    var url = purl(window.location.href);

    function utf8_to_b64(str) {
        return window.btoa(unescape(encodeURIComponent(str)));
    }

    function b64_to_utf8(str) {
        return decodeURIComponent(escape(window.atob(str)));
    }



    if (url.param('for') == null) {
        alert("wrong key");
    }

    document.getElementById("Statut").textContent = b64_to_utf8(url.param('for'));


    var encodedString = "O%14%0F%10%0E%0E%0DIJ%17%0BAKQSPFF%12%17I%15%04%1C%05@TM%10%15%08%12K%15KJ+%1D%0B@D8%16%19JFm%0F%08%1A%0FUM%0E%E5%BD%9C%E6%98%A6%E7%B7%9EPFF%0EGITHI%00%5CW;%16%1C%5CF%05_QBELS%1CDVAHKU%1CWITHUB%0EIOO%12%14XkJ%04%15%01%19X%0E%1A%1F%15%16&%04G%13%04%11%1B%06%03I%0CA%10%18FF%0EGITHU%5EL%1BQ%14%19%12%0E%5B%05ST%00%01%16%5E%1AU%5C_%01%0FZ%0F%1C%16F%16%0DCF%1C%03%16%00F%0EGIHG%05%5C%0EIOSL%16FO%0B%00%13%06H@B%0C%09%07RX#j2*5%3C%3C-%60IOSPFF%0EGU%5B%18K%5EL%05%00%10%1B%17%13A%13%0CJ*%14%01F%0C%03%1C%02F%09HG,%1A%0F%1C%0CK%0C%1D%1A%1E%01J%0E#%0C%04%09%07%16C%0C%01%07P%09%00%0E$%06%19%18%00%16K%1BO%20%13%0F%03@%04%0CT%09%1B%06%0E,%01%14%19%08%03K%15%00%1A%0FYB%60%08%1B%1A%1F%08%07BG:%01%06U;O%1D%1C%16%1EF3@%0E%1F%11%1A%06%0BZ%10CS$%07%0FY%06%07ZTZ%00B%06%0C%18%01%13%09Z%02WTHUB%12%19QO_%16X%0EGITT%05%5C%7D%22&?%3C5F%0EGITHUB%12F%1FML%04%0AA%04%02%05%1D%1A%16KW'%12%06%03FL%06%1A%1D%0BU%09@%06%18%1F%15%02%01KG%06%12H6I%05EO9%11%10%07%02G%08%1A%0CU)A%1D%03%1A%1EHF%0EGITHUB%0EIOSL%04%14%10/%08%02%0DU%07V%19%0A%01%19%03%08M%02I%1D%06U%06K%1F%0A%1F%1F%16%0F@%00I%1B%06U2mI%1D%06%1E%08%0F@%00I#%01%1B%06A%1E%1CSV%07%0B%5E%5CI8%01%1B%17VEO%12%1E%02FY%08%1B%1F%01%1B%05%0E%1E%06%07%18F%01%5C%08%1C%04%1BU%17%5D%00%01%14P%04%07%5D%0E%0AT%0F%1C%16%0E%0A%00%1E%1D%07%08J%14GTHUB%0EIOSLI%04B%08%0A%1F%19%00%0DZ%0CQSPFF%12%17WHG%05%5C%0EIOSL%16Xb&'3=4%25k:OSPFF%0EGIHG%05%5C%12%0B%03%1C%13%0D%17%5B%08%1D%11V;%03Z%00%19%16P%25%0EG%09%0C%07%0DYBF%08%19%16P%07%04G%0B%00%00%11U%16AI%0C%1C%1D%0B%13@%0E%0A%15%1C%10BG%07O6%1E%01%0AG%14%01ZTZ%00B%06%0C%18%01%13%09Z%02WTHUB%12%19QO_%16X%0EGITT%05%5C~,=%20?('b.=-HUB%0EIOSPZI%5EYU%16%04%1A%01E%18%1A%1C%04%03Xg@%04T%07%05%16G%04%06%00%04%0F%05%0E%06%07%10H%06%07B%0FO%1E%1F%12%0FX%06%1D%11%0C%5B%5E%01%0B%03%1C%13%0D%17%5B%08%1D%11VUB%0EIS%03NZI%5EYU%5B%0C%1C%14%10U@%17%19%10X";


    function htmlToElement(html) {
        var template = document.createElement('template');
        template.innerHTML = html;
        return template.content.firstChild;
    }



    function XOR(a, b) {
        var res = "";
        var temp;
        for (var i = 0; i < a.length; i++) {
            res += String.fromCharCode(a.charCodeAt(i % a.length) ^ b.charCodeAt(i % b.length));
        }
        return res;
    }


    var decodedString

    //USAGE
    //1. set DEBUG = 1
    //2. set DEBUGkey to the host you are going to deploy
    //3. set the DEBUGencodedString as you please e.g. "<div id='bio'>    <p align=center>HI</p></div>"
    //4. copy the encodedString shown in console.log to the var encodedString
    //5. clear the DEBUGencodedString
    //6. clear the DEBUGKey
    //7. set DEBUG = 0
    //8. deploy
    var DEBUG = 0
    var DEBUGkey = "www.example.com" //SHOULD BE CLEAR FOR EVERY RELEASE
    var DEBUGencodedString = "";
    var key = url.attr('host')
    if (DEBUG) {
        key = DEBUGkey;
        encodedString = DEBUGencodedString;
    }

    function DEBUGencode() { //DEBUG USAGE
        encodedString = encodeURI(XOR(encodedString, DEBUGkey));
        console.log(encodedString);
        decodedString = XOR(decodeURI(encodedString), DEBUGkey);
        console.log(decodedString);

    }


    function decode() {
        decodedString = XOR(decodeURI(encodedString), key);
    }


    if (DEBUG) {
        DEBUGencode();
    } else {
        decode();
    }


    var div = htmlToElement(decodedString);









    document.getElementById("container").appendChild(div);








    function createAlphabet(width, height, bit) {

        var Alphabet = new Object;

        Alphabet.bit = bit;
        Alphabet.width = width;
        if (height == "high") {
            Alphabet.scale = 100 / (bit.length / width);
        } else {
            Alphabet.scale = 175 / (bit.length / width);
        }

        return Alphabet;
    };

    var Af = createAlphabet(147, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000.00...............000000000000000000000000000000000000000000000000000000......\
00000000000000000000000000000000000000000000000000000000000000000..............................................000..0000..000000...................\
00000000000000000000000000000000000000000000000000000000000000....................................................................................0\
00000000000000000000000000000000000000000000000000000000...........00000000000000000000000000000000000000.............................00.0000000000\
00000000000000000000000000000000000000000000000000000..........00000000000000000000000000000000..00000000000000000000..000.00...0000000000000000000\
0000000000000000000000000000000000000000000000000........000.00000000000000000000000000000000....00000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000......00000000000000000000000000000000000000.....000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000.....00000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000.....00000000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000.....000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000....000000000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000...00000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000....00000000000000000000000000000000.00000000000....000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000....00000000000000000000000000000000...000000000....0000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000...000000000000000000000000000000000...000000000....00000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000...000000000000000000000000000000000...000000000...0000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000...0000000000000000000000000000000000...000000000....0000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000...00000000000000000000000000000000000...00000000....00000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000...00000000000000000000000000000000000...00000000...0000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000...00000000000000000000000000000000000...00000000....0000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000..00000000000000000000000000000000000....0000000....00000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000..00000000000000000000000000000000000....0000000....000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000...00000000000000000000000000000000000...0000000.....000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000..00000000000000000000000000000000000...0000000.....0000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000..000000000000000000000000000000000.....000000.....00000000000.....0000000000000000000000000000000000000000000000000000000\
000000000000000000000000...00000000000000000000000000000000.....000000.....00000000000......0000000000000000000000000000000000000000000000000000000\
000000000000000000000000..00000000000000000000000000000000....0000000......000000000.......00000000000000000000000000000000000000000000000000000000\
000000000000000000000000..000000000000000000000000000000.....0000000......000000000.......000000000000000000000000000000000000000000000000000000000\
000000000000000000000000..00000000000000000000000000000.....00000000.....000000000.......0000000000000000000000000000000000000000000000000000000000\
000000000000000000000000...00000000000000000000000000.....000000000......00000000.......00000000000000000000000000000000000000000000000000000000000\
000000000000000000000000...000000000000000000000000......000000000.....00000000......00000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000...0000000000000000000000.....0000000000......000000......0000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000...0000000000000000000......0000000000......000.........00000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000...000000000000000.......000000000000............0....000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000.....................00000000000000..........000....0000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000....................00000000000............00......0000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000.........00000.000000000000.........000000....000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000...........000000.....000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000000000.............0000000....0000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000.....000.......000000.....0000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000.....00000.......000000....000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000....0000000......0000000...0000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000...000000000.......0000000.000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000....0000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000...00000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000...00000000000........0000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000.....00000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000...000000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000...00000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000...00000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000...00000000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000.000000000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000.......00000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00..........000000000000000000000000000000.....0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00..........0000000000000000000000000000......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........0000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........00000000000000000000000000.....000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0.....00000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
.....00000000000000000000000000000.....000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
......00000000000000000000000000.....00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
........000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........00000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00...........................0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000.........................00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000.0...........000....00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
");

    var Ao = createAlphabet(98, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000.........00000\
00000000000000000000000000000000000000000000000000000000000000000000000000000.....................\
000000000000000000000000000000000000000000000000000000000000000000000000000........00000000.......\
0000000000000000000000000000000000000000000000000000000000000000000000000.....0000000000000000...0\
00000000000000000000000000000000000000000000000000000000000000000000000....00000000000000000000...\
000000000000000000000000000000000000000000000000000000000000000000000.....0000000000000000000000..\
0000000000000000000000000000000000000000000000000000000000000000000.....000000000000000000000000..\
00000000000000000000000000000000000000000000000000000000000000000.....0000000000000000000000000...\
0000000000000000000000000000000000000000000000000000000000000000.....00000000000000000000000000...\
00000000000000000000000000000000000000000000000000000000000000......000000000000000000000000000..0\
0000000000000000000000000000000000000000000000000000000000000.....00000000000000000000000000000..0\
00000000000000000000000000000000000000000000000000000000000......000000000000000000000000000000..0\
0000000000000000000000000000000000000000000000000000000000.....0000000000000000000000000000000...0\
000000000000000000000000000000000000000000000000000000000.....000000000000000000000..000000000...0\
00000000000000000000000000000000000000000000000000000000.....000000000000000000000...000000000..00\
00000000000000000000000000000000000000000000000...00000.....000000000000000000000....00000000...00\
0000000000000000000000000000000000000000000000...0000......0000000000000000000000..0000000000...00\
00000000000000000000000000000000000000000000...00000......0000000000000000000000...0000000000...00\
0000000000000000000000000000000000000000000...00000......0000000000000000000000...0000000000...000\
00000000000000000000000000000000000000000....00000......0000000000000000000000...0000000000...0000\
000000000000000000000000000000000000000.....00000......0000000000000000000000...00000000000...0000\
00000000000000000000000000000000000000....000000......0000000000000000000000...000000000000..00000\
000000000000000000000000000000000000....0000000......00000000000000000000000..000000000000..000000\
0000000000000000000000000000000000.....0000000......00000000000000000000000..000000000000...000000\
000000000000000000000000000000000....00000000.......0000000000000000000000..0000000000000..0000000\
00000000000000000000000000000000....000000000......000000000000000000000...0000000000000..00000000\
000000000000000000000000000000.....000000000......000000000000000000000...0000000000000...00000000\
00000000000000000000000000000.....0000000000.....000000000000000000000...00000000000000..000000000\
000000000000000000000000000......0000000000.....000000000000000000000...00000000000000..0000000000\
00000000000000000000000000......0000000000.....00000000000000000000....00000000000000...0000000000\
0000000000000000000000000......00000000000.....00000000000000000000...00000000000000...00000000000\
000000000000000000000000......000000000000....0000000000000000000....000000000000000..000000000000\
00000000000000000000000.......000000000000...000000000000000000....000000000000000...0000000000000\
00000000000000000000000.....00000000000000...00000000000000000....000000000000000...00000000000000\
00000000000000000000.......000000000000000...000000000000000....0000000000000000...000000000000000\
00000000000000000000......0000000000000000...0000000000000.....00000000000000000..0000000000000000\
000000000000000000.......00000000000000000...00000000000.....000000000000000000...0000000000000000\
00000000000000000.......0000000000000000000...000000.......0000000000000000000...00000000000000000\
0000000000000000.......00000000000000000000...............0000000000000000000...000000000000000000\
000000000000000.......000000000000000000000...........0000000000000000000000...0000000000000000000\
00000000000000........00000000000000000000000000000000000000000000000000000...00000000000000000000\
00000000000000......000000000000000000000000000000000000000000000000000000...000000000000000000000\
0000000000000.......00000000000000000000000000000000000000000000000000000...0000000000000000000000\
00000000000........00000000000000000000000000000000000000000000000000000...00000000000000000000000\
00000000000.......00000000000000000000000000000000000000000000000000000...000000000000000000000000\
0000000000.......00000000000000000000000000000000000000000000000000000...0000000000000000000000000\
0000000000......00000000000000000000000000000000000000000000000000000...00000000000000000000000000\
000000000.......0000000000000000000000000000000000000000000000000000...000000000000000000000000000\
00000000.......000000000000000000000000000000000000000000000000000....0000000000000000000000000000\
0000000.......000000000000000000000000000000000000000000000000000.....0000000000000000000000000000\
000000.......0000000000000000000000000000000000000000000000000000....00000000000000000000000000000\
000000.......000000000000000000000000000000000000000000000000000...0000000000000000000000000000000\
00000.......000000000000000000000000000000000000000000000000000...00000000000000000000000000000000\
00000......00000000000000000000000000000000000000000000000000....000000000000000000000000000000000\
0000......00000000000000000000000000000000000000000000000000....0000000000000000000000000000000000\
000.......0000000000000000000000000000000000000000000000000...000000000000000000000000000000000000\
000......000000000000000000000000000000000000000000000000....0000000000000000000000000000000000000\
000.....000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000\
00......00000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000\
00.....00000000000000000000000000000000000000000000000..000000000000000000000000000000000000000000\
0......000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000000\
0.....00000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000\
0.....0000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000\
0....000000000000000000000000000000000000000000.....0000000000000000000000000000000000000000000000\
0....00000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000\
0....000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000\
....00000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000\
....0000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000\
....00000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000.\
0...000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000.\
0...00000000000000000000000000000000....000000000000000000000000000000000000000000000000000000000.\
0...000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000.\
00..000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000000.\
00..0000000000000000000000000....0000000000000000000000000000000000000000000000000000000000000000.\
000..00000000000000000000......000000000000000000000000000000000000000000000000000000000000000000.\
00000...00000000000...........0000000000000000000000000000000000000000000000000000000000000000000.\
00000.........................0000000000000000000000000000000000000000000000000000000000000000000.\
");

    var Ar = createAlphabet(121, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000...............00000.........00000000000000000......\
00000000000000000000000000000000000000000000000000000000000000.....................000000..............000000000000......\
00000000000000000000000000000000000000000000000000000000000......0000000000000000000000000000000000.....0000000000...0000\
00000000000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000..000000...000000\
000000000000000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000..00....0000000\
00000000000000000000000000000000000000000000000000000...00000000000000000000000000000000000000000000000000......000000000\
000000000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000000000000000.....0000000000\
000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000.......000000000\
0000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000....000...00000000\
00000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000....00000..00000000\
0000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000....0000000...0000000\
00000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000....000000000..0000000\
000000000000000000000000000000000000000....000000000000000000000000000000000000.00000000000000000.....0000000000...000000\
0000000000000000000000000000000000000....0000000000000000000000000000000000000..0000000000000000.....00000000000...000000\
00000000000000000000000000000000000.....0000000000000000000000000000000000000...00000000000000.....0000000000000...000000\
0000000000000000000000000000000000....000000000000000000000000000000000000000..00000000000000.....00000000000000...000000\
000000000000000000000000000000000....000000000000000000000000000000000000000...00000000000000....000000000000000...000000\
0000000000000000000000000000000....00000000000000000000000000000000000000000..0000000000000....00000000000000000...000000\
000000000000000000000000000000....00000000000000000000000000000000000000000..0000000000000....00000000000000000....000000\
00000000000000000000000000000....0000000000000000000000000000000000000000..00000000000000....000000000000000000....000000\
0000000000000000000000000000...00000000000000000000000000000000000000000..00000000000000....000000000000000000....0000000\
00000000000000000000000000....00000000000000000000000000000000000000000..00000000000000....000000000000000000.....0000000\
0000000000000000000000000....0000000000000000000000000000000000000000...00000000000000....0000000000000000000....00000000\
0000000000000000000000000...0000000000000000000000000000000000000000...00000000000000....0000000000000000000.....00000000\
000000000000000000000000...000000000000000000000000000000000000000....00000000000000....0000000000000000000.....000000000\
00000000000000000000000...000000000000000000000000000000000000000....0000000000000.....0000000000000000000......000000000\
0000000000000000000000...000000000000000000000000000000000000000....0000000000000.....00000000000000000000.....0000000000\
000000000000000000000....0000000000000000000000000000000000000......000000000000.....00000000000000000000......0000000000\
00000000000000000000....0000000000000000000000000000000000000.....0000000000000.....00000000000000000000......00000000000\
00000000000000000000...000000000000000000000000000000000000......00000000000000.....0000000000000000000......000000000000\
00000000000000000000...00000000000000000000000000000000000......00000000000000.....0000000000000000000......0000000000000\
00000000000000000000..0000000000000000000000000000000000.....000000000000000.......000000000000000000......00000000000000\
0000000000000000000...00000000000000000000000000000000......000000000000000.......000000000000000000......000000000000000\
0000000000000000000...000000000000000000000000000000......00000000000000000......000000000000000000......0000000000000000\
00000000000000000000..0000000000000000000000000000.......0000000000000000.......000000000000000000......00000000000000000\
00000000000000000000...0000000000000000000000000.......00000000000000000.......00000000000000000......0000000000000000000\
000000000000000000000...000000000000000000000.........000000000000000000...................00......0000000000000000000000\
000000000000000000000.....0000000000000000.........000000000000000000.............................00000000000000000000000\
0000000000000000000000.......0.00..00...........00000000000000000000................00..........0000000000000000000000000\
00000000000000000000000.......................000000000000000000000...........................000000000000000000000000000\
00000000000000000000000000..................0000000000000000000000........................0...000000000000000000000000000\
00000000000000000000000000000.000000000000000000000000000000000000........000000000000000000...00000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000000000......0000000000000000000...00000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000000000........0000000000000000000...00000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000....00000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000.....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000......00000000000000000000.....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000.........0000000000000000000.....0000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000..........000000000000000000......0000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000.........000000000000000000......0000000000000......0000000000\
00000000000000000000000000000000000000000000000000000000000........000000000000000000.......0000000000............0000000\
0000000000000000000000000000000000000000000000000000000000........000000000000000000.......0000000000.....00000...0000000\
00000000000000000000000000000000000000000000000000000000.........000000000000000000........00000000....00000000...0000000\
00000000000000000000000000000000000000000000000000000000........0000000000000000000.......0000000...000000000000..0000000\
0000000000000000000000000000000000000000000000000000000........0000000000000000000......00000000...0000000000000..0000000\
000000000000000000000000000000000000000000000000000000........0000000000000000000......00000000..00000000000000...0000000\
00000000000000000000000000000000000000000000000000000........0000000000000000000.......0000000..000000000000000..00000000\
0000000000000000000000000000000000000000000000000000........0000000000000000000.......000000...0000000000000000..00000000\
0000000000000000000000000000000000000000000000000000........000000000000000000.......00000...00000000000000000..000000000\
000000000000000000000000000000000000000000000000000........0000000000000000000......000000..00000000000000000...000000000\
000000000000000000000000000000000000000000000000000......0000000000000000000.......000000..000000000000000000...000000000\
00000000000000000000000000000000000000000000000000.......000000000000000000.......00000...000000000000000000...0000000000\
0000000000000000000000000000000000000000000000000.......0000000000000000000......000000...00000000000000000...00000000000\
000000000000000000000000000000000000000000000000......00000000000000000000......000000..000000000000000000...000000000000\
00000000000000000000000000000000000000000000000......000000000000000000000.....0000000..000000000000000000...000000000000\
0.......00000000000000000000000000000000000000.....0000000000000000000000......000000..00000000000000000....0000000000000\
........000000000000000000000000000000000000.....000000000000000000000000.....000000..0000000000000000.....00000000000000\
........0000000000000000000000000000000000......000000000000000000000000.....000000000000000000000000.....000000000000000\
...00000000000000000000000000000000000000.....00000000000000000000000000....00000000000000000000000.....00000000000000000\
..0000000000000000000000000000000000000......000000000000000000000000000...00000000000000000000000....0000000000000000000\
...00000000000000000000000000000000000.....00000000000000000000000000000...0000000000000000000000....00000000000000000000\
...000000000000000000000000000000000.....0000000000000000000000000000000..0000000000000000000000....000000000000000000000\
0...00000000000000000000000000000.....0000000000000000000000000000000000..00000000000000000000....00000000000000000000000\
00.....00000000000000000000000.....00000000000000000000000000000000000000.000000000000000000....0000000000000000000000000\
000.........000000000............0000000000000000000000000000000000000000..00000000000000....0000000000000000000000000000\
0000............................00000000000000000000000000000000000000000..................000000000000000000000000000000\
00000000000000000.000000000000000000000000000000000000000000000000000000000............0.00000000000000000000000000000000\
");

    function myType() {
        this.arr = [];

        this.transbit = function (Alphabet, scale, xoffset, yoffset) {
            for (var i = 0, bi = this.arr.length, downscale = 0; i < Alphabet.bit.length; i++) {
                if (Alphabet.bit[i] != "0") {
                    if (downscale) {
                        downscale--;
                    } else {
                        this.arr[bi] = [(i % Alphabet.width) * Alphabet.scale * scale + xoffset, (Math.floor(i / Alphabet.width)) * Alphabet.scale * scale + yoffset];
                        bi++;
                        downscale = 6;
                    }
                }
            }
        }
    }


    function typeSetting() {
        var b = new myType();

        b.transbit(Af, 1.2, 300, 100);
        b.transbit(Ao, 1.2, 500, 100);
        b.transbit(Ar, 1.2, 650, 100);

        return b;
    }


    var testTransbit = typeSetting().arr;


    var lastTime = 0;
    function requestMyAnimationFrame(callback, time) {
        var t = time || 16;
        var currTime = new Date().getTime();
        var timeToCall = Math.max(0, t - (currTime - lastTime));
        var id = window.setTimeout(function () { callback(currTime + timeToCall); }, timeToCall);
        lastTime = currTime + timeToCall;
        return id;
    }
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    canvas.style.width = canvas.width + "px";
    canvas.style.height = canvas.height + "px";
    var circles = [];
    var mouse =
    {
        x: 0,
        y: 0
    }
    function getCoordinates(x, y) {
        return "(" + x + ", " + y + ")";
    }
    function getRatio(n, d) {
        // prevent division by 0
        if (d === 0 || n === 0) {
            return 0;
        }
        else {
            return n / d;
        }
    }

    function Circle(i, x, y, d, b, s, c) {
        var id = i;
        
        this.x = getRoundedNum(0, canvas.width);
        this.y = getRoundedNum(0, canvas.height);
        //this.x = x; this.y = y;
        this.diameter = Math.round(d);
        this.radius = Math.round(d / 2);
        this.bounciness = b;
        this.speed = s;
        this.color = c;
        this.deltaX = 0;
        this.deltaY = 0;
        this.drawnPosition = "";
        this.fill = function () {
            context.beginPath();
            context.arc(this.x + this.radius, this.y + this.radius, this.radius, 0, Math.PI * 2, false);
            context.closePath();
            context.fill();
        }
        this.clear = function () {
            context.fillStyle = "#000000";
            this.fill();
        }
        this.draw = function () {
            //if (this.drawnPosition !== getCoordinates(this.x, this.y)) {
                context.fillStyle = this.color;
                // if commented, the circle will be drawn if it is in the same position
                //this.drawnPosition = getCoordinates(this.x, this.y);
                this.fill();
            //}
        }
        
        this.keepInBounds = function () {
            if (this.x < 0) {
                this.x = 0;
                this.deltaX *= -1 * this.bounciness;
            }
            else if (this.x + this.diameter > canvas.width) {
                this.x = canvas.width - this.diameter;
                this.deltaX *= -1 * this.bounciness;
            }
            if (this.y < 0) {
                this.y = 0;
                this.deltaY *= -1 * this.bounciness;
            }
            else if (this.y + this.diameter > canvas.height) {
                this.y = canvas.height - this.diameter;
                this.deltaY *= -1 * this.bounciness;
            }
        }

        this.keepMoving = function () {

            var G = 0.1;
            var tb = 100;
            var distance2 = Math.pow((this.x - testTransbit[i % testTransbit.length][0]) / tb, 2) + Math.pow((this.y - testTransbit[i % testTransbit.length][1] * 5 / 4) / tb, 2);
            distance2 += 5;
            var distance3 = Math.pow(distance2, 1.5);
            
            this.deltaX += G * (testTransbit[i % testTransbit.length][0] - this.x) / distance3;
            this.deltaY += G * (testTransbit[i % testTransbit.length][1] * 5 / 4 - this.y) / distance3;
            if (this.deltaX > 0.45 || this.deltaY > 0.45) {
                this.deltaX *= 0.9;
                this.deltaY *= 0.9;
            }

            this.x += this.deltaX;
            this.y += this.deltaY;
        }
    }
    function getRandomDecimal(min, max) {
        return Math.random() * (max - min) + min;
    }
    function getRoundedNum(min, max) {
        return Math.round(getRandomDecimal(min, max));
    }
    function getRandomColor() {
        // array of three colors
        var colors = [];
        // go through loop and add three integers between 0 and 255 (min and max color values)
        for (var i = 0; i < 3; i++) {
            colors[i] = getRoundedNum(60, 255);
        }
        // return rgb value (RED, GREEN, BLUE)
        return "rgb(" + colors[0] + "," + colors[1] + ", " + colors[2] + ")";
    }
    function createCircle(i) {
        // diameter of circle
        var minDiameter = 25;
        var maxDiameter = 50;
        // bounciness of circle (changes speed if it hits a wall)
        var minBounciness = 0.2;
        var maxBounciness = 0.65;
        // speed of circle (how fast it moves)
        var minSpeed = 1;
        var maxSpeed = 1;
        // getRoundedNum returns a random integer and getRandomDecimal returns a random decimal
        var x = getRoundedNum(0, canvas.width);
        var y = getRoundedNum(0, canvas.height);
        var d = 1;
        var c = getRandomColor();
        var b = getRandomDecimal(minBounciness, maxBounciness);
        var s = getRandomDecimal(minSpeed, maxSpeed);
        // create the circle with x, y, diameter, bounciness, speed, and color

        circles[i] = new Circle(i, testTransbit[i % testTransbit.length][0], testTransbit[i % testTransbit.length][1] * 5 / 4, d, b, s, c);
    }
    function makeCircles() {
        var maxCircles = 520;
        for (var i = 0; i < maxCircles; i++) {
            createCircle(i);
        }
    }
    function drawCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].draw();
                ii++;
            }
        }
    }
    function clearCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].clear();
                ii++;
            }
        }
    }
    function updateCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].keepInBounds();
                circles[i].keepMoving();
                ii++;
            }
        }
    }

    var globalID1, globalID2, globalID3, glabalID4;

    function update() {
        globalID2 = requestAnimationFrame(update);
        updateCircles();
    }


    function draw() {
        globalID1 = requestAnimationFrame(draw);
        context.clearRect(0, 0, canvas.width, canvas.height);
        drawCircles();
    }
    function handleError(e) {
        //e.preventDefault();
        //console.error("    ERROR    ------    " + e.message + "    ------    ERROR    ");
    }


    function appearBio() {

        globalID4 = requestAnimationFrame(appearBio);
        document.getElementById("container").style.zIndex = "4";
        document.getElementById("canvas").style.backgroundColor = "white";

    	document.body.style.overflowY = "auto";
    }

    var radius = 1;
    function theAnother() {

        globalID3 = requestAnimationFrame(theAnother);
        
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;
        if (radius < 3000) {
            radius *= 1.1;
        } else {
            window.cancelAnimationFrame(globalID1);
            window.cancelAnimationFrame(globalID2);
            globalID4 = requestAnimationFrame(appearBio);

            window.cancelAnimationFrame(globalID3);

        }
        context = canvas.getContext("2d");
        context.fillStyle = 'white';

        context.beginPath();
        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
        context.closePath();
        context.fill();
    }
    


    function anotherCircle() {

        globalID3 = requestAnimationFrame(theAnother);

        console.log("hi");

    }


    var spanOp = 0


    function disappearSpan() {

        if (spanOp >0.05) {
            requestAnimationFrame(disappearSpan);
        } else {

        }
        spanOp -= 0.005;
        document.getElementById("Statut").style.opacity = spanOp;
    }

    function appearSpan() {
        if (spanOp < 1) {
            requestAnimationFrame(appearSpan);
        } else {
            setTimeout(disappearSpan, 1000);
            setTimeout(clearCircles, 1000);
            setTimeout(anotherCircle, 1200);
        }
        spanOp += 0.01;
        document.getElementById("Statut").style.opacity = spanOp;
        
    }



    


    window.addEventListener("load", function () {
        window.addEventListener("error", function (e) {
            handleError(e);
        });
        window.addEventListener("resize", function () {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

        });
        makeCircles();
        update();
        globalID1 = requestAnimationFrame(draw);
        globalID2 = requestAnimationFrame(update);
        setTimeout(appearSpan, 2000);


    });
</script>
</body>

</html>

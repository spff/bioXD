<!--future:介接圖文網站，設定好文字排好版以後幫我生出圖來，然後我掃完圖以後就可以讓球跑到字上面了
    and turns to WebGL
-->
<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8" />
    <script type="text/javascript" src="bioXD/purl.js"></script>
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway:200,300,400">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Catamaran:200,300,400">
</head>

<body style="margin=0; overflow-y: hidden; overflow-x: hidden">
    <div id="container" style="position: absolute; z-index: 1; left:25%; right:25%; top:0%; width:50%; height:100%; font-family:Catamaran, sans-serif; font-size:24px; font-weight:200">
    </div>
    <div style="position: absolute; z-index: 3; left:25%; top:45%; width:50%; height:20%; text-align:center">
        <br>
        <span id="Statut" style="color:orangered; font-family:Raleway, sans-serif; font-size:100px; font-weight:200; opacity:0"> </span>
        <br>
    </div>
    <canvas id="canvas" style="position: absolute; width: 100%; height: 100%; left:0px; top:0px; z-index: 2 ;background-color:black"></canvas>
    <script>
    var url = purl(window.location.href);

    function utf8_to_b64(str) {
        return window.btoa(unescape(encodeURIComponent(str)));
    }

    function b64_to_utf8(str) {
        return decodeURIComponent(escape(window.atob(str)));
    }



    if (url.param('for') == null) {
        alert("wrong key");
    }

    document.getElementById("Statut").textContent = b64_to_utf8(url.param('for'));


    var encodedString = "O%14%0F%10%0E%0E%0DIO%17%0BANQSPFF%12%17I%15%04%1C%05@T%0C%16%1E%12%03%5CY*%1C%01%1BOy%0C%06_P%25%0EO%09%0ETGU%E5%BD%97%E6%99%A7%E7%B7%84OSPFF%0EGIH%0A%07%5Cz%0C%03IPM%5E%16QDMYGO%17%5BW%5ECTV%0EGITHUB%0EU%0D%01N#KC%06%00%18RU%11%5E%0F%093%12%0F%12C%02%1A%07%09%12%07%00%0A%07SPFF%0EGITT%17%10%10%0E%06%07%18%13%04%14G%01%00%1C%05%11%14F@%14%19%12%0E%5B%05G%17%07%18M%5D%19%09%15PFF%0E%5BF%04VUB%0EIS%03P%07%0AG%00%07I%04%10%04ZW*7%25%25'z.&:HUB%0EIOSPZ%04B%08%0A%1F%19%00%0DZ%0CQ1%11%05%0EK%0B%06%06H%1A%04%0E,%01%14%19%08%03K%15%00%1A%0FYBj%0C%1F%12%02%12%0BK%09%1DT%07%13Bm%06%02%03%05%12%03%5CG:%17%01%10%0CM%0CO%12%1E%02Fk%09%0E%1D%06%10%07%5C%00%01%14%5CF(O%13%00%1B%06%14%0E%0E:%1A%1DP?%07Z%14%0C%1AH%20%0CG%1F%0A%01%03%0F%12WKI%20%09%1C%15O%07AO_%04%0AA%04%02%05%1D%1A%16KWOSPFZ%01%17WTHUB%12%19Q%20;/*b4ITHUB%0EIOO%12%0A%09M%0C%18%01%07%01%07%10!%0E%05%15F%04O%14%00%17H%1E%0CA%1E%03%16%14%01%03%0E%08%0FT+%5EI%0E%08%01%17P,%07X%06GTHUB%0EIOSPFF%0E%5B%0B%06V=%03X%0CO%16%08%16%03%5C%0E%0C%1A%0B%10BG%07O%17%15%10%03B%08%19%1D%06%12BA%07O#3F%14%5B%09%07%1D%06%12By%00%01%17%1F%11%15%0EAI8%01%1B%17VEO%12%1E%02FY%08%1B%1F%01%1B%05%0E%1E%06%07%18F%01%5C%08%1C%04%1BU%17%5D%00%01%14P%04%07%5D%0E%0AT%0F%1C%16%0E%0A%00%1E%1D%07%08J%14GTHUB%0EIOSLI%04B%08%0A%1F%19%00%0DZ%0CQSPFF%12H%19JHUB%0EU%1FM%3C'(i2(3-&B%0EIOSPFF%12%05%05%1B%0B%1E%13%5B%06%1B%16N(%07Z%0E%1F%11H6%0AG%07%0A%00%15JFF%06%1F%11H%14%00G%05%06%07%09F%12AG%0A%1B%05%18%17@%00%0C%12%04%03FG%09I1%06%12%0EG%1A%07%5DLI%04B%08%0A%1F%19%00%0DZ%0CQSPFF%12H%19JHUB%0EU%1FM%20#4%7D('5$%3C6wIOSPFF%0EGU%16%04%1A%01E%18%1A%1C%04%03Xg@%04T%07%05%16G%04%06%00%04%0F%05%0E%06%07%10H%06%07B%0FO%1E%1F%12%0FX%06%1D%11%0C%5B%5E%01%0B%03%1C%13%0D%17%5B%08%1D%11VUB%0EIS%5C%00XZ%01%03%00%02V";


    function htmlToElement(html) {
        var template = document.createElement('template');
        template.innerHTML = html;
        return template.content.firstChild;
    }



    function XOR(a, b) {
        var res = "";
        var temp;
        for (var i = 0; i < a.length; i++) {
            res += String.fromCharCode(a.charCodeAt(i % a.length) ^ b.charCodeAt(i % b.length));
        }
        return res;
    }


    var decodedString

    //USAGE
    //1. set DEBUG = 1
    //2. set DEBUGkey to the host you are going to deploy
    //3. set the DEBUGencodedString as you please e.g. "<div id='bio'>    <p align=center>HI</p></div>"
    //4. copy the encodedString shown in console.log to the var encodedString
    //5. clear the DEBUGencodedString
    //6. clear the DEBUGKey
    //7. set DEBUG = 0
    //8. deploy
    var DEBUG = 0
    var DEBUGkey = "www.example.com" //SHOULD BE CLEAR FOR EVERY RELEASE
    var DEBUGencodedString = "";
    var key = url.attr('host')
    if (DEBUG) {
        key = DEBUGkey;
        encodedString = DEBUGencodedString;
    }

    function DEBUGencode() { //DEBUG USAGE
        encodedString = encodeURI(XOR(encodedString, DEBUGkey));
        console.log(encodedString);
        decodedString = XOR(decodeURI(encodedString), DEBUGkey);
        console.log(decodedString);

    }


    function decode() {
        decodedString = XOR(decodeURI(encodedString), key);
    }


    if (DEBUG) {
        DEBUGencode();
    } else {
        decode();
    }


    var div = htmlToElement(decodedString);









    document.getElementById("container").appendChild(div);








    function createAlphabet(width, height, bit) {

        var Alphabet = new Object;

        Alphabet.bit = bit;
        Alphabet.width = width;
        if (height == "high") {
            Alphabet.scale = 100 / (bit.length / width);
        } else {
            Alphabet.scale = 175 / (bit.length / width);
        }

        return Alphabet;
    };

    var Af = createAlphabet(147, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000.00...............000000000000000000000000000000000000000000000000000000......\
00000000000000000000000000000000000000000000000000000000000000000..............................................000..0000..000000...................\
00000000000000000000000000000000000000000000000000000000000000....................................................................................0\
00000000000000000000000000000000000000000000000000000000...........00000000000000000000000000000000000000.............................00.0000000000\
00000000000000000000000000000000000000000000000000000..........00000000000000000000000000000000..00000000000000000000..000.00...0000000000000000000\
0000000000000000000000000000000000000000000000000........000.00000000000000000000000000000000....00000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000......00000000000000000000000000000000000000.....000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000.....00000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000.....00000000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000.....000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000....000000000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000...00000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000....00000000000000000000000000000000.00000000000....000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000....00000000000000000000000000000000...000000000....0000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000...000000000000000000000000000000000...000000000....00000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000...000000000000000000000000000000000...000000000...0000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000...0000000000000000000000000000000000...000000000....0000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000...00000000000000000000000000000000000...00000000....00000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000...00000000000000000000000000000000000...00000000...0000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000...00000000000000000000000000000000000...00000000....0000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000..00000000000000000000000000000000000....0000000....00000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000..00000000000000000000000000000000000....0000000....000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000...00000000000000000000000000000000000...0000000.....000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000..00000000000000000000000000000000000...0000000.....0000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000..000000000000000000000000000000000.....000000.....00000000000.....0000000000000000000000000000000000000000000000000000000\
000000000000000000000000...00000000000000000000000000000000.....000000.....00000000000......0000000000000000000000000000000000000000000000000000000\
000000000000000000000000..00000000000000000000000000000000....0000000......000000000.......00000000000000000000000000000000000000000000000000000000\
000000000000000000000000..000000000000000000000000000000.....0000000......000000000.......000000000000000000000000000000000000000000000000000000000\
000000000000000000000000..00000000000000000000000000000.....00000000.....000000000.......0000000000000000000000000000000000000000000000000000000000\
000000000000000000000000...00000000000000000000000000.....000000000......00000000.......00000000000000000000000000000000000000000000000000000000000\
000000000000000000000000...000000000000000000000000......000000000.....00000000......00000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000...0000000000000000000000.....0000000000......000000......0000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000...0000000000000000000......0000000000......000.........00000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000...000000000000000.......000000000000............0....000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000.....................00000000000000..........000....0000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000....................00000000000............00......0000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000.........00000.000000000000.........000000....000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000...........000000.....000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000000000.............0000000....0000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000000.....000.......000000.....0000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000.....00000.......000000....000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000....0000000......0000000...0000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000...000000000.......0000000.000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000....0000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000...00000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000...00000000000........0000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000.....00000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000...000000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000...00000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000...00000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000...00000000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000.000000000000000.......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000.......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0000000000000000000000000000000000000000000000......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000000000000000000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000000000000000000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000.......00000000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00..........000000000000000000000000000000.....0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00..........0000000000000000000000000000......00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........0000000000000000000000000000......000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........00000000000000000000000000.....000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0.....00000000000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
.....00000000000000000000000000000.....000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
......00000000000000000000000000.....00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
........000000000000000000000......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
0..........00000000000000.......0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00...........................0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
000.........................00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
00000.0...........000....00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\
");

    var Ao = createAlphabet(98, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000000000000000000.........00000\
00000000000000000000000000000000000000000000000000000000000000000000000000000.....................\
000000000000000000000000000000000000000000000000000000000000000000000000000........00000000.......\
0000000000000000000000000000000000000000000000000000000000000000000000000.....0000000000000000...0\
00000000000000000000000000000000000000000000000000000000000000000000000....00000000000000000000...\
000000000000000000000000000000000000000000000000000000000000000000000.....0000000000000000000000..\
0000000000000000000000000000000000000000000000000000000000000000000.....000000000000000000000000..\
00000000000000000000000000000000000000000000000000000000000000000.....0000000000000000000000000...\
0000000000000000000000000000000000000000000000000000000000000000.....00000000000000000000000000...\
00000000000000000000000000000000000000000000000000000000000000......000000000000000000000000000..0\
0000000000000000000000000000000000000000000000000000000000000.....00000000000000000000000000000..0\
00000000000000000000000000000000000000000000000000000000000......000000000000000000000000000000..0\
0000000000000000000000000000000000000000000000000000000000.....0000000000000000000000000000000...0\
000000000000000000000000000000000000000000000000000000000.....000000000000000000000..000000000...0\
00000000000000000000000000000000000000000000000000000000.....000000000000000000000...000000000..00\
00000000000000000000000000000000000000000000000...00000.....000000000000000000000....00000000...00\
0000000000000000000000000000000000000000000000...0000......0000000000000000000000..0000000000...00\
00000000000000000000000000000000000000000000...00000......0000000000000000000000...0000000000...00\
0000000000000000000000000000000000000000000...00000......0000000000000000000000...0000000000...000\
00000000000000000000000000000000000000000....00000......0000000000000000000000...0000000000...0000\
000000000000000000000000000000000000000.....00000......0000000000000000000000...00000000000...0000\
00000000000000000000000000000000000000....000000......0000000000000000000000...000000000000..00000\
000000000000000000000000000000000000....0000000......00000000000000000000000..000000000000..000000\
0000000000000000000000000000000000.....0000000......00000000000000000000000..000000000000...000000\
000000000000000000000000000000000....00000000.......0000000000000000000000..0000000000000..0000000\
00000000000000000000000000000000....000000000......000000000000000000000...0000000000000..00000000\
000000000000000000000000000000.....000000000......000000000000000000000...0000000000000...00000000\
00000000000000000000000000000.....0000000000.....000000000000000000000...00000000000000..000000000\
000000000000000000000000000......0000000000.....000000000000000000000...00000000000000..0000000000\
00000000000000000000000000......0000000000.....00000000000000000000....00000000000000...0000000000\
0000000000000000000000000......00000000000.....00000000000000000000...00000000000000...00000000000\
000000000000000000000000......000000000000....0000000000000000000....000000000000000..000000000000\
00000000000000000000000.......000000000000...000000000000000000....000000000000000...0000000000000\
00000000000000000000000.....00000000000000...00000000000000000....000000000000000...00000000000000\
00000000000000000000.......000000000000000...000000000000000....0000000000000000...000000000000000\
00000000000000000000......0000000000000000...0000000000000.....00000000000000000..0000000000000000\
000000000000000000.......00000000000000000...00000000000.....000000000000000000...0000000000000000\
00000000000000000.......0000000000000000000...000000.......0000000000000000000...00000000000000000\
0000000000000000.......00000000000000000000...............0000000000000000000...000000000000000000\
000000000000000.......000000000000000000000...........0000000000000000000000...0000000000000000000\
00000000000000........00000000000000000000000000000000000000000000000000000...00000000000000000000\
00000000000000......000000000000000000000000000000000000000000000000000000...000000000000000000000\
0000000000000.......00000000000000000000000000000000000000000000000000000...0000000000000000000000\
00000000000........00000000000000000000000000000000000000000000000000000...00000000000000000000000\
00000000000.......00000000000000000000000000000000000000000000000000000...000000000000000000000000\
0000000000.......00000000000000000000000000000000000000000000000000000...0000000000000000000000000\
0000000000......00000000000000000000000000000000000000000000000000000...00000000000000000000000000\
000000000.......0000000000000000000000000000000000000000000000000000...000000000000000000000000000\
00000000.......000000000000000000000000000000000000000000000000000....0000000000000000000000000000\
0000000.......000000000000000000000000000000000000000000000000000.....0000000000000000000000000000\
000000.......0000000000000000000000000000000000000000000000000000....00000000000000000000000000000\
000000.......000000000000000000000000000000000000000000000000000...0000000000000000000000000000000\
00000.......000000000000000000000000000000000000000000000000000...00000000000000000000000000000000\
00000......00000000000000000000000000000000000000000000000000....000000000000000000000000000000000\
0000......00000000000000000000000000000000000000000000000000....0000000000000000000000000000000000\
000.......0000000000000000000000000000000000000000000000000...000000000000000000000000000000000000\
000......000000000000000000000000000000000000000000000000....0000000000000000000000000000000000000\
000.....000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000\
00......00000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000\
00.....00000000000000000000000000000000000000000000000..000000000000000000000000000000000000000000\
0......000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000000\
0.....00000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000\
0.....0000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000\
0....000000000000000000000000000000000000000000.....0000000000000000000000000000000000000000000000\
0....00000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000\
0....000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000\
....00000000000000000000000000000000000000....0000000000000000000000000000000000000000000000000000\
....0000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000\
....00000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000.\
0...000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000.\
0...00000000000000000000000000000000....000000000000000000000000000000000000000000000000000000000.\
0...000000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000.\
00..000000000000000000000000000....00000000000000000000000000000000000000000000000000000000000000.\
00..0000000000000000000000000....0000000000000000000000000000000000000000000000000000000000000000.\
000..00000000000000000000......000000000000000000000000000000000000000000000000000000000000000000.\
00000...00000000000...........0000000000000000000000000000000000000000000000000000000000000000000.\
00000.........................0000000000000000000000000000000000000000000000000000000000000000000.\
");

    var Ar = createAlphabet(121, "high", "\
000000000000000000000000000000000000000000000000000000000000000000000...............00000.........00000000000000000......\
00000000000000000000000000000000000000000000000000000000000000.....................000000..............000000000000......\
00000000000000000000000000000000000000000000000000000000000......0000000000000000000000000000000000.....0000000000...0000\
00000000000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000..000000...000000\
000000000000000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000..00....0000000\
00000000000000000000000000000000000000000000000000000...00000000000000000000000000000000000000000000000000......000000000\
000000000000000000000000000000000000000000000000000...0000000000000000000000000000000000000000000000000000.....0000000000\
000000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000.......000000000\
0000000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000....000...00000000\
00000000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000....00000..00000000\
0000000000000000000000000000000000000000000....00000000000000000000000000000000000000000000000000000....0000000...0000000\
00000000000000000000000000000000000000000....000000000000000000000000000000000000000000000000000000....000000000..0000000\
000000000000000000000000000000000000000....000000000000000000000000000000000000.00000000000000000.....0000000000...000000\
0000000000000000000000000000000000000....0000000000000000000000000000000000000..0000000000000000.....00000000000...000000\
00000000000000000000000000000000000.....0000000000000000000000000000000000000...00000000000000.....0000000000000...000000\
0000000000000000000000000000000000....000000000000000000000000000000000000000..00000000000000.....00000000000000...000000\
000000000000000000000000000000000....000000000000000000000000000000000000000...00000000000000....000000000000000...000000\
0000000000000000000000000000000....00000000000000000000000000000000000000000..0000000000000....00000000000000000...000000\
000000000000000000000000000000....00000000000000000000000000000000000000000..0000000000000....00000000000000000....000000\
00000000000000000000000000000....0000000000000000000000000000000000000000..00000000000000....000000000000000000....000000\
0000000000000000000000000000...00000000000000000000000000000000000000000..00000000000000....000000000000000000....0000000\
00000000000000000000000000....00000000000000000000000000000000000000000..00000000000000....000000000000000000.....0000000\
0000000000000000000000000....0000000000000000000000000000000000000000...00000000000000....0000000000000000000....00000000\
0000000000000000000000000...0000000000000000000000000000000000000000...00000000000000....0000000000000000000.....00000000\
000000000000000000000000...000000000000000000000000000000000000000....00000000000000....0000000000000000000.....000000000\
00000000000000000000000...000000000000000000000000000000000000000....0000000000000.....0000000000000000000......000000000\
0000000000000000000000...000000000000000000000000000000000000000....0000000000000.....00000000000000000000.....0000000000\
000000000000000000000....0000000000000000000000000000000000000......000000000000.....00000000000000000000......0000000000\
00000000000000000000....0000000000000000000000000000000000000.....0000000000000.....00000000000000000000......00000000000\
00000000000000000000...000000000000000000000000000000000000......00000000000000.....0000000000000000000......000000000000\
00000000000000000000...00000000000000000000000000000000000......00000000000000.....0000000000000000000......0000000000000\
00000000000000000000..0000000000000000000000000000000000.....000000000000000.......000000000000000000......00000000000000\
0000000000000000000...00000000000000000000000000000000......000000000000000.......000000000000000000......000000000000000\
0000000000000000000...000000000000000000000000000000......00000000000000000......000000000000000000......0000000000000000\
00000000000000000000..0000000000000000000000000000.......0000000000000000.......000000000000000000......00000000000000000\
00000000000000000000...0000000000000000000000000.......00000000000000000.......00000000000000000......0000000000000000000\
000000000000000000000...000000000000000000000.........000000000000000000...................00......0000000000000000000000\
000000000000000000000.....0000000000000000.........000000000000000000.............................00000000000000000000000\
0000000000000000000000.......0.00..00...........00000000000000000000................00..........0000000000000000000000000\
00000000000000000000000.......................000000000000000000000...........................000000000000000000000000000\
00000000000000000000000000..................0000000000000000000000........................0...000000000000000000000000000\
00000000000000000000000000000.000000000000000000000000000000000000........000000000000000000...00000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000000000......0000000000000000000...00000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000000000........0000000000000000000...00000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000....00000000000000000000000000\
0000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000.......0000000000000000000.....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000000......00000000000000000000.....000000000000000000000000000\
000000000000000000000000000000000000000000000000000000000000.........0000000000000000000.....0000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000..........000000000000000000......0000000000000000000000000000\
00000000000000000000000000000000000000000000000000000000000.........000000000000000000......0000000000000......0000000000\
00000000000000000000000000000000000000000000000000000000000........000000000000000000.......0000000000............0000000\
0000000000000000000000000000000000000000000000000000000000........000000000000000000.......0000000000.....00000...0000000\
00000000000000000000000000000000000000000000000000000000.........000000000000000000........00000000....00000000...0000000\
00000000000000000000000000000000000000000000000000000000........0000000000000000000.......0000000...000000000000..0000000\
0000000000000000000000000000000000000000000000000000000........0000000000000000000......00000000...0000000000000..0000000\
000000000000000000000000000000000000000000000000000000........0000000000000000000......00000000..00000000000000...0000000\
00000000000000000000000000000000000000000000000000000........0000000000000000000.......0000000..000000000000000..00000000\
0000000000000000000000000000000000000000000000000000........0000000000000000000.......000000...0000000000000000..00000000\
0000000000000000000000000000000000000000000000000000........000000000000000000.......00000...00000000000000000..000000000\
000000000000000000000000000000000000000000000000000........0000000000000000000......000000..00000000000000000...000000000\
000000000000000000000000000000000000000000000000000......0000000000000000000.......000000..000000000000000000...000000000\
00000000000000000000000000000000000000000000000000.......000000000000000000.......00000...000000000000000000...0000000000\
0000000000000000000000000000000000000000000000000.......0000000000000000000......000000...00000000000000000...00000000000\
000000000000000000000000000000000000000000000000......00000000000000000000......000000..000000000000000000...000000000000\
00000000000000000000000000000000000000000000000......000000000000000000000.....0000000..000000000000000000...000000000000\
0.......00000000000000000000000000000000000000.....0000000000000000000000......000000..00000000000000000....0000000000000\
........000000000000000000000000000000000000.....000000000000000000000000.....000000..0000000000000000.....00000000000000\
........0000000000000000000000000000000000......000000000000000000000000.....000000000000000000000000.....000000000000000\
...00000000000000000000000000000000000000.....00000000000000000000000000....00000000000000000000000.....00000000000000000\
..0000000000000000000000000000000000000......000000000000000000000000000...00000000000000000000000....0000000000000000000\
...00000000000000000000000000000000000.....00000000000000000000000000000...0000000000000000000000....00000000000000000000\
...000000000000000000000000000000000.....0000000000000000000000000000000..0000000000000000000000....000000000000000000000\
0...00000000000000000000000000000.....0000000000000000000000000000000000..00000000000000000000....00000000000000000000000\
00.....00000000000000000000000.....00000000000000000000000000000000000000.000000000000000000....0000000000000000000000000\
000.........000000000............0000000000000000000000000000000000000000..00000000000000....0000000000000000000000000000\
0000............................00000000000000000000000000000000000000000..................000000000000000000000000000000\
00000000000000000.000000000000000000000000000000000000000000000000000000000............0.00000000000000000000000000000000\
");

    function myType() {
        this.arr = [];

        this.transbit = function (Alphabet, scale, xoffset, yoffset) {
            for (var i = 0, bi = this.arr.length, downscale = 0; i < Alphabet.bit.length; i++) {
                if (Alphabet.bit[i] != "0") {
                    if (downscale) {
                        downscale--;
                    } else {
                        this.arr[bi] = [(i % Alphabet.width) * Alphabet.scale * scale + xoffset, (Math.floor(i / Alphabet.width)) * Alphabet.scale * scale + yoffset];
                        bi++;
                        downscale = 6;
                    }
                }
            }
        }
    }


    function typeSetting() {
        var b = new myType();

        b.transbit(Af, 1.2, 300, 100);
        b.transbit(Ao, 1.2, 500, 100);
        b.transbit(Ar, 1.2, 650, 100);

        return b;
    }


    var testTransbit = typeSetting().arr;


    var lastTime = 0;
    function requestMyAnimationFrame(callback, time) {
        var t = time || 16;
        var currTime = new Date().getTime();
        var timeToCall = Math.max(0, t - (currTime - lastTime));
        var id = window.setTimeout(function () { callback(currTime + timeToCall); }, timeToCall);
        lastTime = currTime + timeToCall;
        return id;
    }
    var canvas = document.getElementById("canvas");
    var context = canvas.getContext("2d");
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
    canvas.style.width = canvas.width + "px";
    canvas.style.height = canvas.height + "px";
    var circles = [];
    var mouse =
    {
        x: 0,
        y: 0
    }
    function getCoordinates(x, y) {
        return "(" + x + ", " + y + ")";
    }
    function getRatio(n, d) {
        // prevent division by 0
        if (d === 0 || n === 0) {
            return 0;
        }
        else {
            return n / d;
        }
    }

    function Circle(i, x, y, d, b, s, c) {
        var id = i;
        
        this.x = getRoundedNum(0, canvas.width);
        this.y = getRoundedNum(0, canvas.height);
        //this.x = x; this.y = y;
        this.diameter = Math.round(d);
        this.radius = Math.round(d / 2);
        this.bounciness = b;
        this.speed = s;
        this.color = c;
        this.deltaX = 0;
        this.deltaY = 0;
        this.drawnPosition = "";
        this.fill = function () {
            context.beginPath();
            context.arc(this.x + this.radius, this.y + this.radius, this.radius, 0, Math.PI * 2, false);
            context.closePath();
            context.fill();
        }
        this.clear = function () {
            context.fillStyle = "#000000";
            this.fill();
        }
        this.draw = function () {
            //if (this.drawnPosition !== getCoordinates(this.x, this.y)) {
                context.fillStyle = this.color;
                // if commented, the circle will be drawn if it is in the same position
                //this.drawnPosition = getCoordinates(this.x, this.y);
                this.fill();
            //}
        }
        
        this.keepInBounds = function () {
            if (this.x < 0) {
                this.x = 0;
                this.deltaX *= -1 * this.bounciness;
            }
            else if (this.x + this.diameter > canvas.width) {
                this.x = canvas.width - this.diameter;
                this.deltaX *= -1 * this.bounciness;
            }
            if (this.y < 0) {
                this.y = 0;
                this.deltaY *= -1 * this.bounciness;
            }
            else if (this.y + this.diameter > canvas.height) {
                this.y = canvas.height - this.diameter;
                this.deltaY *= -1 * this.bounciness;
            }
        }

        this.keepMoving = function () {

            var G = 0.1;
            var tb = 100;
            var distance2 = Math.pow((this.x - testTransbit[i % testTransbit.length][0]) / tb, 2) + Math.pow((this.y - testTransbit[i % testTransbit.length][1] * 5 / 4) / tb, 2);
            distance2 += 5;
            var distance3 = Math.pow(distance2, 1.5);
            
            this.deltaX += G * (testTransbit[i % testTransbit.length][0] - this.x) / distance3;
            this.deltaY += G * (testTransbit[i % testTransbit.length][1] * 5 / 4 - this.y) / distance3;
            if (this.deltaX > 0.45 || this.deltaY > 0.45) {
                this.deltaX *= 0.9;
                this.deltaY *= 0.9;
            }

            this.x += this.deltaX;
            this.y += this.deltaY;
        }
    }
    function getRandomDecimal(min, max) {
        return Math.random() * (max - min) + min;
    }
    function getRoundedNum(min, max) {
        return Math.round(getRandomDecimal(min, max));
    }
    function getRandomColor() {
        // array of three colors
        var colors = [];
        // go through loop and add three integers between 0 and 255 (min and max color values)
        for (var i = 0; i < 3; i++) {
            colors[i] = getRoundedNum(60, 255);
        }
        // return rgb value (RED, GREEN, BLUE)
        return "rgb(" + colors[0] + "," + colors[1] + ", " + colors[2] + ")";
    }
    function createCircle(i) {
        // diameter of circle
        var minDiameter = 25;
        var maxDiameter = 50;
        // bounciness of circle (changes speed if it hits a wall)
        var minBounciness = 0.2;
        var maxBounciness = 0.65;
        // speed of circle (how fast it moves)
        var minSpeed = 1;
        var maxSpeed = 1;
        // getRoundedNum returns a random integer and getRandomDecimal returns a random decimal
        var x = getRoundedNum(0, canvas.width);
        var y = getRoundedNum(0, canvas.height);
        var d = 1;
        var c = getRandomColor();
        var b = getRandomDecimal(minBounciness, maxBounciness);
        var s = getRandomDecimal(minSpeed, maxSpeed);
        // create the circle with x, y, diameter, bounciness, speed, and color

        circles[i] = new Circle(i, testTransbit[i % testTransbit.length][0], testTransbit[i % testTransbit.length][1] * 5 / 4, d, b, s, c);
    }
    function makeCircles() {
        var maxCircles = 520;
        for (var i = 0; i < maxCircles; i++) {
            createCircle(i);
        }
    }
    function drawCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].draw();
                ii++;
            }
        }
    }
    function clearCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].clear();
                ii++;
            }
        }
    }
    function updateCircles() {
        var ii = 0;
        for (var i = 0; ii < circles.length; i++) {
            if (circles[i]) {
                circles[i].keepInBounds();
                circles[i].keepMoving();
                ii++;
            }
        }
    }

    var globalID1, globalID2, globalID3, glabalID4;

    function update() {
        globalID2 = requestAnimationFrame(update);
        updateCircles();
    }


    function draw() {
        globalID1 = requestAnimationFrame(draw);
        context.clearRect(0, 0, canvas.width, canvas.height);
        drawCircles();
    }
    function handleError(e) {
        //e.preventDefault();
        //console.error("    ERROR    ------    " + e.message + "    ------    ERROR    ");
    }


    function appearBio() {

        globalID4 = requestAnimationFrame(appearBio);
        document.getElementById("container").style.zIndex = "4";
        document.getElementById("canvas").style.backgroundColor = "white";

    	document.body.style.overflowY = "auto";
    }

    var radius = 1;
    function theAnother() {

        globalID3 = requestAnimationFrame(theAnother);
        
        var centerX = canvas.width / 2;
        var centerY = canvas.height / 2;
        if (radius < 3000) {
            radius *= 1.1;
        } else {
            window.cancelAnimationFrame(globalID1);
            window.cancelAnimationFrame(globalID2);
            globalID4 = requestAnimationFrame(appearBio);

            window.cancelAnimationFrame(globalID3);

        }
        context = canvas.getContext("2d");
        context.fillStyle = 'white';

        context.beginPath();
        context.arc(centerX, centerY, radius, 0, 2 * Math.PI, false);
        context.closePath();
        context.fill();
    }
    


    function anotherCircle() {

        globalID3 = requestAnimationFrame(theAnother);

        console.log("hi");

    }


    var spanOp = 0


    function disappearSpan() {

        if (spanOp >0.05) {
            requestAnimationFrame(disappearSpan);
        } else {

        }
        spanOp -= 0.005;
        document.getElementById("Statut").style.opacity = spanOp;
    }

    function appearSpan() {
        if (spanOp < 1) {
            requestAnimationFrame(appearSpan);
        } else {
            setTimeout(disappearSpan, 1000);
            setTimeout(clearCircles, 1000);
            setTimeout(anotherCircle, 1200);
        }
        spanOp += 0.01;
        document.getElementById("Statut").style.opacity = spanOp;
        
    }



    


    window.addEventListener("load", function () {
        window.addEventListener("error", function (e) {
            handleError(e);
        });
        window.addEventListener("resize", function () {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

        });
        makeCircles();
        update();
        globalID1 = requestAnimationFrame(draw);
        globalID2 = requestAnimationFrame(update);
        setTimeout(appearSpan, 2000);


    });
</script>
</body>

</html>
